{% extends "blog/base.html" %}
{% block title %}All Blog Posts{% endblock %}

{% block content %}
    <h1 class="text-3xl font-bold mb-6">All Blog Posts</h1>

    {% if user.is_authenticated %}
        <p class="mb-4"><a href="{% url 'post_create' %}" class="text-white bg-blue-600 hover:bg-blue-700 p-2 rounded-lg shadow-md transition duration-150">Create New Post</a></p>
    {% endif %}

    {% if posts %}
        {% for post in posts %}
            <article class="bg-white p-6 rounded-lg shadow-md mb-4 border border-gray-200">
                <h2 class="text-xl font-semibold mb-2">
                    <a href="{% url 'post_detail' pk=post.pk %}" class="text-blue-700 hover:text-blue-900">{{ post.title }}</a>
                </h2>
                <p class="text-gray-600 text-sm mb-3">
                    By <span class="font-medium">{{ post.author.username }}</span> on {{ post.published_date|date:"F j, Y" }}
                </p>
                <div class="text-gray-700 line-clamp-3">
                    {{ post.content|truncatewords:50 }}
                </div>
            </article>
        {% endfor %}
    {% else %}
        <p class="text-gray-500">No blog posts found. Be the first to post!</p>
    {% endif %}
{% endblock %}